{"ast":null,"code":"var _jsxFileName = \"/Users/juanpablogermosen/Documents/Sabio/react/Starter.react-componentize/src/components/ProductList.jsx\";\nimport React, { Component } from \"react\";\nimport entityService from \"../services/entityService\";\nimport NavBar from \"./NavBar\";\nimport OneProductCard from \"./OneProductCard\"; // import { toast } from \"react-toastify\";\n// import OneProductCard from \"./OneProductCard\";\n// another way to export and declare one liner\n\nexport default class ProductList extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {};\n\n    this.onGetAllSuccess = response => {\n      console.log(\"all products success \", response.data.items);\n      var myProducts = response.data.items;\n      this.setState(prevState => {\n        return {\n          mappedProducts: myProducts.map(this.mapProduct)\n        };\n      }); // console.log(\"this is mappedProducts: \", myProducts.map(this.mapProduct))\n    };\n\n    this.onGetAllError = response => {\n      console.log(\"all products error \", response);\n    };\n\n    this.mapProduct = oneProduct => {\n      return /*#__PURE__*/React.createElement(OneProductCard, {\n        key: oneProduct.id,\n        name: oneProduct.name,\n        manufacturer: oneProduct.manufacturer,\n        description: oneProduct.description,\n        cost: oneProduct.cost,\n        id: oneProduct.id,\n        onDeleteButtonClicked: this.onDeleteClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 13\n        }\n      });\n    };\n\n    this.onDeleteClick = e => {\n      var productId = e.currentTarget.dataset.productId;\n      console.log(\"product Id: \", productId);\n      var passIToSuccessHandler = this.onDeleteSuccess(parseInt(productId));\n      entityService.delete(productId).then(passIToSuccessHandler).catch(this.onDeleteError);\n    };\n\n    this.onDeleteSuccess = deletedProductId => {\n      console.log(\"in delete success: \", deletedProductId);\n      this.setState(prevState => {\n        console.log(\"prevState \", prevState);\n        console.log(prevState.mappedProducts[0].props.id);\n        var indexOfProduct = prevState.mappedProducts.findIndex(singleArrayProduct => singleArrayProduct.props.id === deletedProductId);\n        var updatedProduct = [...prevState.mappedProducts];\n\n        if (indexOfProduct >= 0) {\n          updatedProduct.splice(indexOfProduct, 1);\n        }\n\n        return {\n          mappedProducts: updatedProduct\n        };\n      });\n    };\n\n    this.onDeleteError = response => {\n      console.warn(\"hahaha didnt work asshole!!!\", response);\n    };\n  }\n\n  componentDidMount() {\n    entityService.getAll().then(this.onGetAllSuccess).catch(this.onGetAllError);\n  }\n\n  // deleteOne(id, e) {\n  //     e.preventDefault()\n  //     console.log(\"deleteOne running from Product List\", id)\n  //     console.log(\"deleteOne running from Product List\", e)\n  //     entityService.delete(id)\n  //         .then(this.onDeleteButtonClickedSuccess)\n  //         .catch(this.onDeleteButtonClickedError)\n  // }\n  // onDeleteButtonClickedSuccess = (id) => {\n  //     console.log(\"success: \", id)\n  //     toast.success(\"item deleted\");\n  // }\n  // onDeleteButtonClickedError = (response) => {\n  //     toast.error(\"Product not deleted. Please try again\");\n  //     console.warn({ errorDeletingProduct: response })\n  // }\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NavBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"banner\",\n      id: \"bannerImg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQzinvZCTZnfm7RFq4FkWb7ydkrHwKYvegrNQ&usqp=CAU\",\n      id: \"bannerImg\",\n      alt: \"bannerImage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 p-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }\n    }, \"Product List\"), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }\n    }, this.state.mappedProducts)));\n  }\n\n} // export default ProductList;","map":{"version":3,"sources":["/Users/juanpablogermosen/Documents/Sabio/react/Starter.react-componentize/src/components/ProductList.jsx"],"names":["React","Component","entityService","NavBar","OneProductCard","ProductList","state","onGetAllSuccess","response","console","log","data","items","myProducts","setState","prevState","mappedProducts","map","mapProduct","onGetAllError","oneProduct","id","name","manufacturer","description","cost","onDeleteClick","e","productId","currentTarget","dataset","passIToSuccessHandler","onDeleteSuccess","parseInt","delete","then","catch","onDeleteError","deletedProductId","props","indexOfProduct","findIndex","singleArrayProduct","updatedProduct","splice","warn","componentDidMount","getAll","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport entityService from \"../services/entityService\";\nimport NavBar from \"./NavBar\";\nimport OneProductCard from \"./OneProductCard\";\n// import { toast } from \"react-toastify\";\n// import OneProductCard from \"./OneProductCard\";\n\n\n// another way to export and declare one liner\nexport default class ProductList extends Component {\n    state = {};\n\n\n    componentDidMount() {\n        entityService.getAll()\n            .then(this.onGetAllSuccess)\n            .catch(this.onGetAllError)\n    }\n\n    onGetAllSuccess = (response) => {\n        console.log(\"all products success \", response.data.items)\n        const myProducts = response.data.items;\n\n        this.setState((prevState) => {\n            return { mappedProducts: myProducts.map(this.mapProduct) }\n        })\n        // console.log(\"this is mappedProducts: \", myProducts.map(this.mapProduct))\n    }\n\n    onGetAllError = (response) => {\n        console.log(\"all products error \", response)\n    }\n\n    mapProduct = (oneProduct) => {\n        return (\n            <OneProductCard\n                key={oneProduct.id}\n                name={oneProduct.name}\n                manufacturer={oneProduct.manufacturer}\n                description={oneProduct.description}\n                cost={oneProduct.cost}\n                id={oneProduct.id}\n                onDeleteButtonClicked={this.onDeleteClick}\n            />\n\n        )\n    }\n    onDeleteClick = (e) => {\n        const productId = e.currentTarget.dataset.productId;\n        console.log(\"product Id: \", productId);\n        const passIToSuccessHandler = this.onDeleteSuccess(parseInt(productId));\n        entityService.delete(productId)\n            .then(passIToSuccessHandler)\n            .catch(this.onDeleteError)\n\n\n    }\n\n    onDeleteSuccess = (deletedProductId) => {\n        console.log(\"in delete success: \", deletedProductId)\n\n        this.setState((prevState) => {\n            console.log(\"prevState \", prevState)\n            console.log(prevState.mappedProducts[0].props.id)\n\n            const indexOfProduct = prevState.mappedProducts.findIndex(\n                (singleArrayProduct) => singleArrayProduct.props.id === deletedProductId\n            );\n            const updatedProduct = [...prevState.mappedProducts];\n\n            if (indexOfProduct >= 0) {\n                updatedProduct.splice(indexOfProduct, 1);\n            }\n            return {\n                mappedProducts: updatedProduct\n            };\n        });\n\n    };\n    onDeleteError = (response) => {\n        console.warn(\"hahaha didnt work asshole!!!\", response)\n    }\n\n\n    // deleteOne(id, e) {\n    //     e.preventDefault()\n    //     console.log(\"deleteOne running from Product List\", id)\n    //     console.log(\"deleteOne running from Product List\", e)\n\n\n    //     entityService.delete(id)\n    //         .then(this.onDeleteButtonClickedSuccess)\n    //         .catch(this.onDeleteButtonClickedError)\n    // }\n    // onDeleteButtonClickedSuccess = (id) => {\n    //     console.log(\"success: \", id)\n    //     toast.success(\"item deleted\");\n    // }\n\n    // onDeleteButtonClickedError = (response) => {\n    //     toast.error(\"Product not deleted. Please try again\");\n    //     console.warn({ errorDeletingProduct: response })\n    // }\n\n    render() {\n        return (\n            <React.Fragment>\n                <NavBar />\n                <div className=\"banner\" id=\"bannerImg\">\n                    <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQzinvZCTZnfm7RFq4FkWb7ydkrHwKYvegrNQ&usqp=CAU\"\n                        id=\"bannerImg\"\n                        alt=\"bannerImage\" />\n                </div>\n                <div className=\"col-md-12 p-5\">\n                    <h1>Product List</h1>\n                    <hr />\n                    <div className=\"row\">\n                        {this.state.mappedProducts}\n                    </div>\n                </div>\n            </React.Fragment>\n\n        )\n    }\n\n}\n// export default ProductList;"]},"metadata":{},"sourceType":"module"}