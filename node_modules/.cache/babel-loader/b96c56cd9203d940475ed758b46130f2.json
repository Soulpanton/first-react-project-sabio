{"ast":null,"code":"var _jsxFileName = \"/Users/juanpablogermosen/Documents/Sabio/react/Starter.react-componentize/src/components/FriendsList.jsx\";\nimport React, { Component } from \"react\";\nimport friendsService from \"../services/friendsService\";\nimport NavBar from \"./NavBar\";\nimport OneFriendCard from \"./OneFriendCard\";\nimport { NavLink } from \"react-router-dom\";\n\nclass FriendsList extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {};\n\n    this.onAllFriendsSuccess = response => {\n      console.log(\"all friends success\", response.data.item.pagedItems);\n      var myFriends = response.data.item.pagedItems;\n      this.setState(preState => {\n        return {\n          mappedFriends: myFriends.map(this.mapFriend)\n        };\n      });\n      console.log(\"this is mappedFriends\", myFriends.map(this.mapFriend));\n    };\n\n    this.onAllFriendsError = response => {\n      console.log(\"all friends error\", response);\n    };\n\n    this.mapFriend = oneFriend => {\n      return (\n        /*#__PURE__*/\n        // functional component from that child component\n        React.createElement(OneFriendCard, {\n          key: oneFriend.id,\n          title: oneFriend.title,\n          imgSrc: oneFriend.primaryImage.imageUrl,\n          headline: oneFriend.headline,\n          summary: oneFriend.summary,\n          id: oneFriend.id,\n          onDeleteButtonClicked: this.onDeleteClick,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 13\n          }\n        })\n      );\n    };\n\n    this.onDeleteClick = e => {\n      var friendId = e.currentTarget.dataset.friendId;\n      console.log(\"friend Id: \", friendId);\n      var passIdToSuccessHandler = this.onDeleteSuccess(parseInt(friendId));\n      friendsService.delete(friendId).then(passIdToSuccessHandler).catch(this.onDeleteError);\n    };\n\n    this.onDeleteSuccess = deletedFriendId => {\n      console.log(\"in delete Success: \", deletedFriendId);\n      this.setState(prevState => {\n        console.log(prevState.mappedFriends[0].props.id);\n        var indexOfFriend = prevState.mappedFriends.findIndex(singleArrayFriend => singleArrayFriend.props.id === deletedFriendId);\n        var updatedFriend = [...prevState.mappedFriends];\n\n        if (indexOfFriend >= 0) {\n          updatedFriend.splice(indexOfFriend, 1);\n        }\n\n        return {\n          mappedFriends: updatedFriend\n        };\n      });\n    };\n\n    this.onDeleteError = deletedFriendId => {\n      console.log(\"in delete success: \", deletedFriendId);\n    };\n\n    this.onDeleteError = response => {\n      console.warn(\"delete did not work\", response);\n    };\n  }\n\n  componentDidMount() {\n    friendsService.allFriends().then(this.onAllFriendsSuccess).catch(this.onAllFriendsError);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NavBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jumbotron jumbotron-fluid\",\n      id: \"friendsJumbo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"display-3\",\n      style: {\n        color: \"white\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 26\n      }\n    }, \"Your Friends\")), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"lead\",\n      style: {\n        color: \"white\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 29\n      }\n    }, \"Below, a list of all your current friends \", /*#__PURE__*/React.createElement(NavLink, {\n      to: \"/friendForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 79\n      }\n    }, \"Click here to add a New Friend\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 p-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }\n    }, this.state.mappedFriends)));\n  }\n\n}\n\nexport default FriendsList;","map":{"version":3,"sources":["/Users/juanpablogermosen/Documents/Sabio/react/Starter.react-componentize/src/components/FriendsList.jsx"],"names":["React","Component","friendsService","NavBar","OneFriendCard","NavLink","FriendsList","state","onAllFriendsSuccess","response","console","log","data","item","pagedItems","myFriends","setState","preState","mappedFriends","map","mapFriend","onAllFriendsError","oneFriend","id","title","primaryImage","imageUrl","headline","summary","onDeleteClick","e","friendId","currentTarget","dataset","passIdToSuccessHandler","onDeleteSuccess","parseInt","delete","then","catch","onDeleteError","deletedFriendId","prevState","props","indexOfFriend","findIndex","singleArrayFriend","updatedFriend","splice","warn","componentDidMount","allFriends","render","color"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport friendsService from \"../services/friendsService\";\nimport NavBar from \"./NavBar\";\nimport OneFriendCard from \"./OneFriendCard\";\nimport { NavLink } from \"react-router-dom\";\n\nclass FriendsList extends Component {\n    state = {};\n\n\n    componentDidMount() {\n        friendsService.allFriends()\n            .then(this.onAllFriendsSuccess)\n            .catch(this.onAllFriendsError)\n    }\n\n    onAllFriendsSuccess = (response) => {\n        console.log(\"all friends success\", response.data.item.pagedItems)\n        const myFriends = response.data.item.pagedItems;\n\n        this.setState((preState) => {\n            return { mappedFriends: myFriends.map(this.mapFriend) }\n        })\n        console.log(\"this is mappedFriends\", myFriends.map(this.mapFriend))\n    }\n    onAllFriendsError = (response) => {\n        console.log(\"all friends error\", response)\n    }\n\n    mapFriend = (oneFriend) => {\n        return (\n            // functional component from that child component\n            <OneFriendCard\n                key={oneFriend.id}\n                title={oneFriend.title}\n                imgSrc={oneFriend.primaryImage.imageUrl}\n                headline={oneFriend.headline}\n                summary={oneFriend.summary}\n                id={oneFriend.id}\n                onDeleteButtonClicked={this.onDeleteClick}\n            />\n        )\n    };\n    onDeleteClick = (e) => {\n        const friendId = e.currentTarget.dataset.friendId;\n        console.log(\"friend Id: \", friendId);\n        const passIdToSuccessHandler = this.onDeleteSuccess(parseInt(friendId));\n        friendsService.delete(friendId)\n            .then(passIdToSuccessHandler)\n            .catch(this.onDeleteError)\n    }\n\n    onDeleteSuccess = (deletedFriendId) => {\n        console.log(\"in delete Success: \", deletedFriendId)\n\n        this.setState((prevState) => {\n            console.log(prevState.mappedFriends[0].props.id)\n\n            const indexOfFriend = prevState.mappedFriends.findIndex(\n                (singleArrayFriend) => singleArrayFriend.props.id === deletedFriendId\n            );\n            const updatedFriend = [...prevState.mappedFriends];\n\n            if (indexOfFriend >= 0) {\n                updatedFriend.splice(indexOfFriend, 1);\n            }\n            return {\n                mappedFriends: updatedFriend\n            };\n        });\n    }\n\n    onDeleteError = (deletedFriendId) => {\n        console.log(\"in delete success: \", deletedFriendId)\n\n\n    };\n    onDeleteError = (response) => {\n        console.warn(\"delete did not work\", response)\n    }\n\n    render() {\n        return (\n            <React.Fragment>\n                <NavBar />\n                <div\n                    className=\"jumbotron jumbotron-fluid\"\n                    id=\"friendsJumbo\"\n                >\n                    <div className=\"container\">\n                        <h1\n                            className=\"display-3\"\n                            style={{ color: \"white\" }}\n                        ><strong>Your Friends</strong></h1>\n                        <p\n                            className=\"lead\"\n                            style={{ color: \"white\" }}\n                        >\n                            <strong>Below, a list of all your current friends <NavLink to=\"/friendForm\">Click here to add a New Friend</NavLink></strong>\n                        </p>\n\n\n                    </div>\n                </div>\n                <div className=\"col-md-12 p-5\">\n                    {/* <h1><NavLink to=\"./FriendForm\">Add New Friend</NavLink></h1> */}\n                    <hr />\n                    <div className=\"row\">\n                        {this.state.mappedFriends}\n                    </div>\n                </div>\n            </React.Fragment >\n        );\n    }\n}\n\n\nexport default FriendsList;"]},"metadata":{},"sourceType":"module"}